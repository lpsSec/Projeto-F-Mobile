{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Documents\\\\Programacao\\\\React-Native\\\\Project-E-MyBook\\\\src\\\\pages\\\\sub-pages\\\\forFavorites.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { useNavigation } from '@react-navigation/native';\nimport Api from \"../../Api\";\nimport FavoriteItem from \"../../components/FavoriteItem\";\nimport NotFound from \"../../assets/nao-encontrado.svg\";\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nexport default function forInfo() {\n  var _this = this;\n\n  var navigation = useNavigation();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listFavorite = _useState2[0],\n      setListFavorite = _useState2[1];\n\n  var _useState3 = useState('none'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      messageEmpty = _useState4[0],\n      setMessageEmpty = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refreshing = _useState6[0],\n      setRefreshing = _useState6[1];\n\n  var onRefresh = React.useCallback(function () {\n    setRefreshing(true);\n    Api.getFavorites().then(function (response) {\n      if (response.data[0] != null) {\n        setListFavorite(response.data);\n        setMessageEmpty('none');\n      } else {\n        setListFavorite([]);\n        setMessageEmpty('flex');\n      }\n    }).catch(function (error) {\n      alert('Erro inesperado, contate o adminstrador');\n    });\n    wait(2000).then(function () {\n      return setRefreshing(false);\n    });\n  }, []);\n  useEffect(function () {\n    var isFlag = true;\n    setListFavorite([]);\n    var unsubscribe = navigation.addListener('focus', function () {\n      Api.getFavorites().then(function (response) {\n        if (isFlag) {\n          if (response.data[0] != null) {\n            setListFavorite(response.data);\n            setMessageEmpty('none');\n          } else {\n            setListFavorite([]);\n            setMessageEmpty('flex');\n          }\n        }\n      }).catch(function (error) {\n        alert('Erro inesperado, contate o adminstrador');\n      });\n    });\n    Api.getFavorites().then(function (response) {\n      if (isFlag) {\n        if (response.data[0] != null) {\n          setListFavorite(response.data);\n          setMessageEmpty('none');\n        } else {\n          setListFavorite([]);\n          setMessageEmpty('flex');\n        }\n      }\n    }).catch(function (error) {\n      alert('Erro inesperado, contate o adminstrador');\n    });\n    return function () {\n      isFlag = false, unsubscribe;\n    };\n  }, [], [navigation]);\n  return React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1,\n      justifyContent: 'space-around',\n      alignItems: 'center',\n      backgroundColor: '#FFFFFF'\n    },\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.pageBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1,\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      backgroundColor: '#FFFFFF'\n    },\n    horizontal: false,\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, listFavorite && listFavorite.map(function (item, k) {\n    return React.createElement(FavoriteItem, {\n      key: k,\n      data: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    });\n  }), React.createElement(View, {\n    style: [styles.messageNotFound, {\n      display: messageEmpty\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, React.createElement(NotFound, {\n    width: \"60\",\n    height: \"60\",\n    fill: \"#FFFFFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: '#000000',\n      fontWeight: 'bold',\n      fontSize: 16,\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"Voc\\xEA n\\xE3o possui livros na lista de favoritos!\")))));\n}\nvar styles = StyleSheet.create({\n  pageBody: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    backgroundColor: '#FFFFFF'\n  },\n  messageNotFound: {\n    width: 300,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/lucas/Documents/Programacao/React-Native/Project-E-MyBook/src/pages/sub-pages/forFavorites.js"],"names":["React","useState","useEffect","useContext","useNavigation","Api","FavoriteItem","NotFound","wait","timeout","Promise","resolve","setTimeout","forInfo","navigation","listFavorite","setListFavorite","messageEmpty","setMessageEmpty","refreshing","setRefreshing","onRefresh","useCallback","getFavorites","then","response","data","catch","error","alert","isFlag","unsubscribe","addListener","flexGrow","justifyContent","alignItems","backgroundColor","styles","pageBody","map","item","k","messageNotFound","display","color","fontWeight","fontSize","marginTop","StyleSheet","create","flex","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { ScrollView, View, Text, TouchableOpacity, Image, StyleSheet, RefreshControl } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport Api from '../../Api';\r\nimport FavoriteItem from '../../components/FavoriteItem';\r\nimport NotFound from '../../assets/nao-encontrado.svg';\r\n\r\nconst wait = (timeout) => {\r\n    return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\n\r\nexport default function forInfo() {\r\n    const navigation = useNavigation();\r\n\r\n    const [listFavorite, setListFavorite] = useState([]);\r\n    const [messageEmpty, setMessageEmpty] = useState('none');\r\n    const [refreshing, setRefreshing] = useState(false);\r\n\r\n    const onRefresh = React.useCallback(() => {\r\n        setRefreshing(true);\r\n        Api.getFavorites().then((response) => {\r\n            if(response.data[0] != null) {\r\n                setListFavorite(response.data);\r\n                setMessageEmpty('none');\r\n            }\r\n            else {\r\n                setListFavorite([]);\r\n                setMessageEmpty('flex');\r\n            }\r\n        }).catch((error) => {\r\n            alert('Erro inesperado, contate o adminstrador');\r\n        });\r\n        wait(2000).then(() => setRefreshing(false));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let isFlag = true;\r\n        setListFavorite([]);\r\n        const unsubscribe = navigation.addListener('focus', () => {\r\n            Api.getFavorites().then((response) => {\r\n                if(isFlag) {\r\n                    if(response.data[0] != null) {\r\n                        setListFavorite(response.data);\r\n                        setMessageEmpty('none');\r\n                    }\r\n                    else {\r\n                        setListFavorite([]);\r\n                        setMessageEmpty('flex');\r\n                    }\r\n                }\r\n            }).catch((error) => {\r\n                alert('Erro inesperado, contate o adminstrador');\r\n            });\r\n        });\r\n        Api.getFavorites().then((response) => {\r\n            if(isFlag) {\r\n                if(response.data[0] != null) {\r\n                    setListFavorite(response.data);\r\n                    setMessageEmpty('none');\r\n                }\r\n                else {\r\n                    setListFavorite([]);\r\n                    setMessageEmpty('flex');\r\n                }\r\n            }\r\n        }).catch((error) => {\r\n            alert('Erro inesperado, contate o adminstrador');\r\n        });\r\n        return () => { isFlag = false, unsubscribe };\r\n    }, [], [navigation]);\r\n    return(\r\n        <ScrollView contentContainerStyle={{ flexGrow: 1, justifyContent: 'space-around', alignItems: 'center', backgroundColor: '#FFFFFF' }} horizontal={true}>\r\n            <View style={styles.pageBody}>\r\n                <ScrollView \r\n                    contentContainerStyle={{ flexGrow: 1, justifyContent: 'flex-start', alignItems: 'center', backgroundColor: '#FFFFFF' }} \r\n                    horizontal={false} \r\n                    refreshControl={\r\n                        <RefreshControl \r\n                        refreshing={refreshing} \r\n                        onRefresh={onRefresh} \r\n                        />\r\n                    }\r\n                >\r\n                    {listFavorite &&\r\n                        listFavorite.map((item, k) => (\r\n                            <FavoriteItem key={k} data={item} />\r\n                        ))\r\n                    }\r\n                    <View style={[styles.messageNotFound, {display: messageEmpty}]}>\r\n                        <NotFound width=\"60\" height=\"60\" fill=\"#FFFFFF\" />\r\n                        <Text style={{color: '#000000', fontWeight: 'bold', fontSize: 16, marginTop: 10}}>\r\n                        Você não possui livros na lista de favoritos!\r\n                        </Text>\r\n                    </View>\r\n                </ScrollView>\r\n            </View>\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    pageBody: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        backgroundColor: '#FFFFFF'\r\n    },\r\n    messageNotFound: {\r\n        width: 300,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}