{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Documents\\\\Programacao\\\\React-Native\\\\Project-E-MyBook\\\\src\\\\pages\\\\sub-pages\\\\moreBook.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Api from \"../../Api\";\nimport RNPickerSelect from \"react-native-picker-select\";\nexport default function moreBook() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedGen = _useState2[0],\n      setSelectedGen = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listGenre = _useState4[0],\n      setListGenre = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nameField = _useState6[0],\n      setNameField = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      descField = _useState8[0],\n      setDescField = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      authorFiled = _useState10[0],\n      setAuthorField = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      linkFiled = _useState12[0],\n      setLinkField = _useState12[1];\n\n  var _useState13 = useState('none'),\n      _useState14 = _slicedToArray(_useState13, 2),\n      messageEmpty = _useState14[0],\n      setMessageEmpty = _useState14[1];\n\n  var _useState15 = useState('none'),\n      _useState16 = _slicedToArray(_useState15, 2),\n      sucessMessage = _useState16[0],\n      setSucessMessage = _useState16[1];\n\n  var _useState17 = useState({\n    msg: '',\n    success: true\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      lResult = _useState18[0],\n      setlResult = _useState18[1];\n\n  var _useState19 = useState(new Animated.ValueXY({\n    x: 0,\n    y: 150\n  })),\n      _useState20 = _slicedToArray(_useState19, 1),\n      offset = _useState20[0];\n\n  var clearMessage = function clearMessage() {\n    setSucessMessage('none');\n    setMessageEmpty('none');\n  };\n\n  var handleAddBookClick = function handleAddBookClick() {\n    var json;\n    return _regeneratorRuntime.async(function handleAddBookClick$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(nameField != '' && selectedGen != 0 && authorFiled != '')) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Api.addBook(nameField, descField, selectedGen, authorFiled, linkFiled));\n\n          case 3:\n            json = _context.sent;\n\n            if (json) {\n              lResult.msg = json.mensagem;\n              setSucessMessage('flex');\n            } else {\n              alert(\"Erro: \" + json.mensagem);\n            }\n\n            _context.next = 8;\n            break;\n\n          case 7:\n            setMessageEmpty('flex');\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    Animated.spring(offset.y, {\n      toValue: 0,\n      speed: 10,\n      bounciness: 20,\n      useNativeDriver: true\n    }).start();\n    var isFlag = true;\n    Api.getGenres().then(function (response) {\n      if (isFlag) {\n        if (response.data[0] != null) {\n          setListGenre(response.data);\n        }\n      }\n    }).catch(function (error) {\n      alert('Erro inesperado, contate o adminstrador');\n    });\n    return function () {\n      isFlag = false;\n    };\n  }, []);\n  return React.createElement(View, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1,\n      justifyContent: 'flex-start',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.headerBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.subTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"Insira as informa\\xE7\\xF5es para cadastrar o livro\")), React.createElement(Animated.View, {\n    style: [styles.pageBody, {\n      transform: [{\n        translateY: offset.y\n      }]\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.inputArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Nome do livro\",\n    placeholderTextColor: \"#000000\",\n    value: nameField,\n    onChangeText: function onChangeText(t) {\n      return setNameField(t);\n    },\n    onFocus: function onFocus(t) {\n      return clearMessage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.PickerArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, React.createElement(RNPickerSelect, {\n    placeholder: {\n      label: 'Selecione um gênero',\n      value: null\n    },\n    placeholderTextColor: \"#000000\",\n    onValueChange: function onValueChange(value) {\n      return setSelectedGen(value);\n    },\n    style: styles.picker,\n    items: listGenre.map(function (item, k) {\n      return {\n        label: item.GEN_NOME,\n        value: item.GEN_ID\n      };\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.inputArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Autor\",\n    placeholderTextColor: \"#000000\",\n    value: authorFiled,\n    onChangeText: function onChangeText(t) {\n      return setAuthorField(t);\n    },\n    onFocus: function onFocus(t) {\n      return clearMessage();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.inputArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Link PDF\",\n    placeholderTextColor: \"#000000\",\n    value: linkFiled,\n    onChangeText: function onChangeText(t) {\n      return setLinkField(t);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.textArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, React.createElement(TextInput, {\n    multiline: true,\n    numberOfLines: 5,\n    style: styles.input,\n    placeholder: \"Descri\\xE7\\xE3o\",\n    placeholderTextColor: \"#000000\",\n    value: descField,\n    onChangeText: function onChangeText(t) {\n      return setDescField(t);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  })), React.createElement(View, {\n    style: styles.messageValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      display: messageEmpty,\n      color: '#FF0000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, \"Preencha todos os campos!\"), React.createElement(Text, {\n    style: {\n      display: sucessMessage,\n      color: '#17F1A1'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, lResult.msg)), React.createElement(TouchableOpacity, {\n    onPress: handleAddBookClick,\n    style: styles.registerButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.registerText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \"Cadastrar\")))));\n}\n;\nvar styles = StyleSheet.create({\n  fixKeyboard: {\n    bottom: 0,\n    left: 0,\n    flexDirection: 'row',\n    paddingTop: 80,\n    alignContent: 'center'\n  },\n  picker: {\n    flex: 1,\n    fontSize: 16,\n    color: '#000000',\n    marginLeft: 5\n  },\n  background: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF'\n  },\n  headerBody: {\n    height: 100,\n    width: 400,\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    marginBottom: 10\n  },\n  subTitle: {\n    fontSize: 24,\n    color: '#000',\n    fontWeight: 'bold'\n  },\n  PickerArea: {\n    width: 350,\n    height: 45,\n    backgroundColor: '#F5F5F5',\n    paddingLeft: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: '#000000'\n  },\n  inputArea: {\n    width: 350,\n    height: 45,\n    backgroundColor: '#F5F5F5',\n    flexDirection: 'row',\n    borderRadius: 10,\n    paddingLeft: 15,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#000000'\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    color: '#000000',\n    marginLeft: 5\n  },\n  textArea: {\n    width: 350,\n    height: 150,\n    backgroundColor: '#F5F5F5',\n    flexDirection: 'row',\n    borderRadius: 10,\n    paddingLeft: 15,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#000000'\n  },\n  registerButton: {\n    height: 50,\n    width: 350,\n    backgroundColor: '#17F1A1',\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  registerText: {\n    fontSize: 18,\n    color: '#000000',\n    fontWeight: 'bold'\n  },\n  pageBody: {\n    width: 400,\n    height: 550,\n    alignItems: 'center',\n    justifyContent: 'space-around'\n  },\n  messageValid: {\n    width: 350,\n    height: 30,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/lucas/Documents/Programacao/React-Native/Project-E-MyBook/src/pages/sub-pages/moreBook.js"],"names":["React","useState","useEffect","Api","RNPickerSelect","moreBook","selectedGen","setSelectedGen","listGenre","setListGenre","nameField","setNameField","descField","setDescField","authorFiled","setAuthorField","linkFiled","setLinkField","messageEmpty","setMessageEmpty","sucessMessage","setSucessMessage","msg","success","lResult","setlResult","Animated","ValueXY","x","y","offset","clearMessage","handleAddBookClick","addBook","json","mensagem","alert","spring","toValue","speed","bounciness","useNativeDriver","start","isFlag","getGenres","then","response","data","catch","error","styles","background","flexGrow","justifyContent","alignItems","headerBody","subTitle","pageBody","transform","translateY","inputArea","input","t","PickerArea","label","value","picker","map","item","k","GEN_NOME","GEN_ID","textArea","messageValid","display","color","registerButton","registerText","StyleSheet","create","fixKeyboard","bottom","left","flexDirection","paddingTop","alignContent","flex","fontSize","marginLeft","backgroundColor","height","width","marginBottom","fontWeight","paddingLeft","borderRadius","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, TextInput, ScrollView, Image, Animated, KeyboardAvoidingView} from 'react-native';\r\nimport Api from '../../Api';\r\n\r\nimport RNPickerSelect from \"react-native-picker-select\";\r\n\r\nexport default function moreBook() {\r\n    \r\n    const [selectedGen, setSelectedGen] = useState([]);\r\n    const [listGenre, setListGenre] = useState([]);\r\n    const [nameField, setNameField] = useState('');\r\n    const [descField, setDescField] = useState('');\r\n    const [authorFiled, setAuthorField] = useState('');\r\n    const [linkFiled, setLinkField] = useState('');\r\n    const [messageEmpty, setMessageEmpty] = useState('none');\r\n    const [sucessMessage, setSucessMessage] = useState('none');\r\n    const [lResult, setlResult] = useState({\r\n        msg: '',\r\n        success: true\r\n    });\r\n\r\n    const [offset] = useState(new Animated.ValueXY({ x: 0, y: 150 }));\r\n\r\n    const clearMessage = () => {\r\n        setSucessMessage('none'); \r\n        setMessageEmpty('none');\r\n    };\r\n\r\n    const handleAddBookClick = async () => {\r\n        if( nameField != '' && selectedGen != 0 && authorFiled != '') {\r\n            let json = await Api.addBook(nameField, descField, selectedGen, authorFiled, linkFiled);\r\n            if(json) {\r\n                lResult.msg  = json.mensagem;\r\n                setSucessMessage('flex');\r\n            } else {\r\n                alert(\"Erro: \" + json.mensagem);\r\n            }\r\n        } else {\r\n            setMessageEmpty('flex');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        Animated.spring(offset.y, {\r\n            toValue: 0,\r\n            speed: 10,\r\n            bounciness: 20,\r\n            useNativeDriver: true\r\n        }).start();\r\n\r\n        let isFlag = true;\r\n        Api.getGenres().then((response) => {\r\n            if(isFlag){\r\n                if(response.data[0] != null) {\r\n                    setListGenre(response.data);\r\n                }\r\n            }\r\n        }).catch((error) => {\r\n            alert('Erro inesperado, contate o adminstrador');\r\n        });\r\n        return () => { isFlag = false };\r\n    }, []);\r\n\r\n    return(\r\n        <View style={styles.background}>\r\n            <ScrollView contentContainerStyle={{ flexGrow: 1, justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                <View style={styles.headerBody}>\r\n                    <Text style={styles.subTitle}>Insira as informações para cadastrar o livro</Text>\r\n                </View>\r\n                <Animated.View style={[ styles.pageBody,  { transform: [ { translateY: offset.y } ] }]}>\r\n                    <View style={styles.inputArea}>\r\n                        <TextInput \r\n                            style={styles.input} \r\n                            placeholder=\"Nome do livro\"\r\n                            placeholderTextColor=\"#000000\"\r\n                            value={nameField}\r\n                            onChangeText={t=>setNameField(t)}\r\n                            onFocus={t=>clearMessage()}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.PickerArea}>\r\n                        <RNPickerSelect\r\n                            placeholder={{\r\n                                label: 'Selecione um gênero',\r\n                                value: null,\r\n                            }}\r\n                            placeholderTextColor=\"#000000\"\r\n                            onValueChange={(value) => setSelectedGen(value)}\r\n                            style={styles.picker}\r\n                            items={listGenre.map((item, k) => {\r\n                                return ({ \r\n                                    label: item.GEN_NOME, value: item.GEN_ID \r\n                                })\r\n                            })}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.inputArea}>\r\n                        <TextInput \r\n                            style={styles.input} \r\n                            placeholder=\"Autor\"\r\n                            placeholderTextColor=\"#000000\"\r\n                            value={authorFiled}\r\n                            onChangeText={t=>setAuthorField(t)}\r\n                            onFocus={t=>clearMessage()}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.inputArea}>\r\n                        <TextInput \r\n                            style={styles.input} \r\n                            placeholder=\"Link PDF\"\r\n                            placeholderTextColor=\"#000000\"\r\n                            value={linkFiled}\r\n                            onChangeText={t=>setLinkField(t)}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.textArea}>\r\n                        <TextInput \r\n                            multiline={true} \r\n                            numberOfLines={5} \r\n                            style={styles.input} \r\n                            placeholder=\"Descrição\"\r\n                            placeholderTextColor=\"#000000\"\r\n                            value={descField}\r\n                            onChangeText={t=>setDescField(t)}\r\n                        />\r\n                    </View>\r\n                    <View style={styles.messageValid}>\r\n                        <Text style={{display: messageEmpty, color: '#FF0000', }}>\r\n                        Preencha todos os campos!\r\n                        </Text>\r\n                        <Text style={{display: sucessMessage, color: '#17F1A1', }}>\r\n                        {lResult.msg}\r\n                        </Text>\r\n                    </View>\r\n                    <TouchableOpacity onPress={handleAddBookClick} style={styles.registerButton}>\r\n                        <Text style={styles.registerText}>Cadastrar</Text>\r\n                    </TouchableOpacity>\r\n                </Animated.View>\r\n                </ScrollView>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    fixKeyboard: {\r\n        bottom: 0,\r\n        left: 0,\r\n        flexDirection: 'row',\r\n        paddingTop: 80,\r\n        alignContent: 'center'\r\n    },\r\n    picker: {\r\n        flex: 1,\r\n        fontSize: 16,\r\n        color: '#000000',\r\n        marginLeft: 5\r\n    },\r\n    background: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#FFFFFF',\r\n    },\r\n    headerBody: {\r\n        height: 100,\r\n        width: 400,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        marginBottom: 10\r\n    },\r\n    subTitle: {\r\n        fontSize: 24,\r\n        color: '#000',\r\n        fontWeight: 'bold'\r\n    },\r\n    PickerArea: {\r\n        width: 350,\r\n        height: 45,\r\n        backgroundColor: '#F5F5F5',\r\n        paddingLeft: 15,\r\n        borderRadius: 10,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderWidth: 2,\r\n        borderColor: '#000000'\r\n    },\r\n    inputArea: {\r\n        width: 350,\r\n        height: 45,\r\n        backgroundColor: '#F5F5F5',\r\n        flexDirection: 'row',\r\n        borderRadius: 10,\r\n        paddingLeft: 15,\r\n        alignItems: 'center',\r\n        borderWidth: 2,\r\n        borderColor: '#000000'\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        fontSize: 16,\r\n        color: '#000000',\r\n        marginLeft: 5\r\n    },\r\n    textArea: {\r\n        width: 350,\r\n        height: 150,\r\n        backgroundColor: '#F5F5F5',\r\n        flexDirection: 'row',\r\n        borderRadius: 10,\r\n        paddingLeft: 15,\r\n        alignItems: 'center',\r\n        borderWidth: 2,\r\n        borderColor: '#000000'\r\n    },\r\n    registerButton: {\r\n        height: 50,\r\n        width: 350,\r\n        backgroundColor: '#17F1A1',\r\n        borderRadius: 10,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    registerText: {\r\n        fontSize: 18,\r\n        color: '#000000',\r\n        fontWeight: 'bold'\r\n    },\r\n    pageBody: {\r\n        width: 400,\r\n        height: 550,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around'\r\n    },\r\n    messageValid: {\r\n        width: 350,\r\n        height: 30,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}