{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Documents\\\\Programacao\\\\React-Native\\\\Project-E-MyBook\\\\src\\\\pages\\\\SignIn.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Api from \"../Api\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport Email from \"../assets/email.svg\";\nimport Lock from \"../assets/lock.svg\";\nexport default function SignIn() {\n  var _useContext = useContext(UserContext),\n      userDispatch = _useContext.dispatch;\n\n  var navigation = useNavigation();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      emailField = _useState2[0],\n      setEmailField = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      passwordField = _useState4[0],\n      setpasswordField = _useState4[1];\n\n  var _useState5 = useState('none'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      messagePassword = _useState6[0],\n      setMessagePassword = _useState6[1];\n\n  var _useState7 = useState('none'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      messageEmpty = _useState8[0],\n      setMessageEmpty = _useState8[1];\n\n  var _useState9 = useState(new Animated.ValueXY({\n    x: 0,\n    y: 150\n  })),\n      _useState10 = _slicedToArray(_useState9, 1),\n      offset = _useState10[0];\n\n  var handleSignClick = function handleSignClick() {\n    var json;\n    return _regeneratorRuntime.async(function handleSignClick$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(emailField != '' && passwordField != '')) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Api.signIn(emailField, passwordField));\n\n          case 3:\n            json = _context.sent;\n\n            if (!json.token) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', json.token));\n\n          case 7:\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('user', json.data.USR_ID.toString()));\n\n          case 9:\n            userDispatch({\n              type: 'setAvatar',\n              payload: {\n                avatar: json.data.AVATAR_PATH\n              }\n            });\n            navigation.reset({\n              routes: [{\n                name: 'Home'\n              }]\n            });\n            _context.next = 14;\n            break;\n\n          case 13:\n            setMessagePassword('flex');\n\n          case 14:\n            _context.next = 17;\n            break;\n\n          case 16:\n            setMessageEmpty('flex');\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function clearMsg() {\n    setMessagePassword('none');\n    setMessageEmpty('none');\n  }\n\n  useEffect(function () {\n    Animated.spring(offset.y, {\n      toValue: 0,\n      speed: 10,\n      bounciness: 20,\n      useNativeDriver: true\n    }).start();\n  }, []);\n  return React.createElement(KeyboardAvoidingView, {\n    contentContainerStyle: styles.fixKeyboard,\n    behavior: \"position\",\n    enabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.headerBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: styles.icon,\n    source: require(\"../assets/logo.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"MyBook\")), React.createElement(Animated.View, {\n    style: [styles.pageBody, {\n      transform: [{\n        translateY: offset.y\n      }]\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.titleArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.subtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Insira suas informa\\xE7\\xF5es para realizar o login\")), React.createElement(View, {\n    style: styles.inputArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, React.createElement(Email, {\n    width: \"24\",\n    height: \"24\",\n    fill: \"#000000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Digite seu e-mail\",\n    placeholderTextColor: \"#000000\",\n    value: emailField,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(t) {\n      return setEmailField(t);\n    },\n    onFocus: function onFocus(t) {\n      return clearMsg();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.inputArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, React.createElement(Lock, {\n    width: \"24\",\n    height: \"24\",\n    fill: \"#000000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"Digite sua senha\",\n    placeholderTextColor: \"#000000\",\n    value: passwordField,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(t) {\n      return setpasswordField(t);\n    },\n    onFocus: function onFocus(t) {\n      return clearMsg();\n    },\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.wrongPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      display: messagePassword,\n      color: '#FF0000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Sua senha/email est\\xE1 incorreta. Por favor tente novamente.\"), React.createElement(Text, {\n    style: {\n      display: messageEmpty,\n      color: '#FF0000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Preencha os campos!\")), React.createElement(TouchableOpacity, {\n    onPress: handleSignClick,\n    style: styles.loginButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.loginText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Entrar\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      navigation.navigate('SignUp');\n    },\n    style: styles.registerButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.registerText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Ainda n\\xE3o possui uma conta?\"), React.createElement(Text, {\n    style: styles.registerTextBold,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Cadastre-se\")))));\n}\nvar styles = StyleSheet.create({\n  fixKeyboard: {\n    bottom: 0,\n    left: 0,\n    flexDirection: 'row',\n    paddingTop: 80,\n    alignContent: 'center'\n  },\n  background: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerBody: {\n    height: 250,\n    width: 400,\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    marginBottom: 10\n  },\n  title: {\n    fontSize: 24,\n    color: '#000',\n    fontWeight: 'bold'\n  },\n  icon: {\n    width: '35%',\n    height: 140\n  },\n  pageBody: {\n    height: 400,\n    width: 400,\n    alignItems: 'center',\n    justifyContent: 'space-around'\n  },\n  titleArea: {\n    width: 350,\n    height: 60,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  subtitle: {\n    fontSize: 20,\n    color: '#000',\n    fontWeight: 'bold'\n  },\n  inputArea: {\n    width: 350,\n    height: 50,\n    backgroundColor: '#F5F5F5',\n    flexDirection: 'row',\n    borderRadius: 10,\n    paddingLeft: 15,\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#000000'\n  },\n  input: {\n    flex: 1,\n    fontSize: 16,\n    color: '#000000',\n    marginLeft: 5\n  },\n  wrongPassword: {\n    width: 350,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loginButton: {\n    height: 50,\n    width: 350,\n    backgroundColor: '#17F1A1',\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loginText: {\n    fontSize: 18,\n    color: '#000000',\n    fontWeight: 'bold'\n  },\n  registerButton: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  registerText: {\n    fontSize: 16,\n    color: '#000000'\n  },\n  registerTextBold: {\n    fontSize: 16,\n    color: '#000000',\n    fontWeight: 'bold',\n    marginLeft: 5\n  }\n});","map":{"version":3,"sources":["C:/Users/lucas/Documents/Programacao/React-Native/Project-E-MyBook/src/pages/SignIn.js"],"names":["React","useState","useEffect","useContext","useNavigation","AsyncStorage","Api","UserContext","Email","Lock","SignIn","userDispatch","dispatch","navigation","emailField","setEmailField","passwordField","setpasswordField","messagePassword","setMessagePassword","messageEmpty","setMessageEmpty","Animated","ValueXY","x","y","offset","handleSignClick","signIn","json","token","setItem","data","USR_ID","toString","type","payload","avatar","AVATAR_PATH","reset","routes","name","clearMsg","spring","toValue","speed","bounciness","useNativeDriver","start","styles","fixKeyboard","background","headerBody","icon","require","title","pageBody","transform","translateY","titleArea","subtitle","inputArea","input","t","wrongPassword","display","color","loginButton","loginText","navigate","registerButton","registerText","registerTextBold","StyleSheet","create","bottom","left","flexDirection","paddingTop","alignContent","flex","justifyContent","alignItems","height","width","marginBottom","fontSize","fontWeight","backgroundColor","borderRadius","paddingLeft","borderWidth","borderColor","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { View, Text, TouchableOpacity, TextInput, StyleSheet, Image, KeyboardAvoidingView, Animated } from 'react-native';\r\nimport Api from '../Api';\r\nimport { UserContext } from '../contexts/UserContext';\r\n\r\nimport Email from '../assets/email.svg';\r\nimport Lock from '../assets/lock.svg';\r\n\r\nexport default function SignIn() {\r\n    const { dispatch: userDispatch } = useContext(UserContext);\r\n    const navigation = useNavigation();\r\n\r\n    const [emailField, setEmailField] = useState('');\r\n    const [passwordField, setpasswordField] = useState('');\r\n    const [messagePassword, setMessagePassword] = useState('none');\r\n    const [messageEmpty, setMessageEmpty] = useState('none');\r\n\r\n    const [offset] = useState(new Animated.ValueXY({ x: 0, y: 150 }));\r\n\r\n    const handleSignClick = async () => {\r\n        if(emailField != '' && passwordField != '') {\r\n            let json = await Api.signIn(emailField, passwordField); \r\n            if(json.token) {\r\n                await AsyncStorage.setItem('token', json.token);\r\n                await AsyncStorage.setItem('user', json.data.USR_ID.toString());\r\n                userDispatch({\r\n                    type: 'setAvatar',\r\n                    payload: {\r\n                        avatar: json.data.AVATAR_PATH\r\n                    }\r\n                });\r\n\r\n                navigation.reset({\r\n                    routes: [{name: 'Home'}]\r\n                });\r\n\r\n            } else {\r\n                setMessagePassword('flex');\r\n            }\r\n\r\n        } else {\r\n            setMessageEmpty('flex');\r\n        }\r\n    }\r\n\r\n    function clearMsg(){\r\n    \tsetMessagePassword('none');\r\n    \tsetMessageEmpty('none');\r\n    }\r\n\r\n    useEffect(() => {\r\n        Animated.spring(offset.y, {\r\n            toValue: 0,\r\n            speed: 10,\r\n            bounciness: 20,\r\n            useNativeDriver: true\r\n        }).start();\r\n    }, []);\r\n    return (\r\n        <KeyboardAvoidingView contentContainerStyle={styles.fixKeyboard} behavior=\"position\" enabled>\r\n        <View style={styles.background}>\r\n            <View style={styles.headerBody}>\r\n                <Image style={styles.icon} source={require('../assets/logo.png')}/>\r\n                <Text style={styles.title}>MyBook</Text>\r\n            </View>\r\n            <Animated.View style={[ styles.pageBody, { transform: [ { translateY: offset.y } ] }]}>\r\n                <View style={styles.titleArea}>\r\n                    <Text style={styles.subtitle}>Insira suas informações para realizar o login</Text>\r\n                </View>\r\n                <View style={styles.inputArea}>\r\n                    <Email width=\"24\" height=\"24\" fill=\"#000000\" />\r\n                    <TextInput \r\n                        style={styles.input} \r\n                        placeholder=\"Digite seu e-mail\"\r\n                        placeholderTextColor=\"#000000\"\r\n                        value={emailField}\r\n                        autoCapitalize='none'\r\n                        onChangeText={t=>setEmailField(t)} \r\n                        onFocus={t=>clearMsg()}\r\n                    />\r\n                </View>\r\n                <View style={styles.inputArea}>\r\n                    <Lock width=\"24\" height=\"24\" fill=\"#000000\" />\r\n                    <TextInput\r\n                        style={styles.input} \r\n                        placeholder=\"Digite sua senha\"\r\n                        placeholderTextColor=\"#000000\"\r\n                        value={passwordField}\r\n                        autoCapitalize='none'\r\n                        onChangeText={t=>setpasswordField(t)}\r\n                        onFocus={t=>clearMsg()}\r\n                        secureTextEntry={true}\r\n                    />\r\n                </View>\r\n                <View style={styles.wrongPassword}>\r\n                    <Text style={{display: messagePassword, color: '#FF0000'}}>\r\n                    Sua senha/email está incorreta. Por favor tente novamente.\r\n                    </Text>\r\n                    <Text style={{display: messageEmpty, color: '#FF0000', }}>\r\n                    Preencha os campos!\r\n                    </Text>\r\n                </View>\r\n                <TouchableOpacity onPress={handleSignClick} style={styles.loginButton}>\r\n                    <Text style={styles.loginText}>Entrar</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={()=>{ navigation.navigate('SignUp') }} style={styles.registerButton}>\r\n                    <Text style={styles.registerText}>Ainda não possui uma conta?</Text>\r\n                    <Text style={styles.registerTextBold}>Cadastre-se</Text>\r\n                </TouchableOpacity>\r\n            </Animated.View>\r\n        </View>\r\n        </KeyboardAvoidingView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    fixKeyboard: {\r\n        bottom: 0,\r\n        left: 0,\r\n        flexDirection: 'row',\r\n        paddingTop: 80,\r\n        alignContent: 'center'\r\n    },\r\n    background: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    headerBody: {\r\n        height: 250,\r\n        width: 400,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        marginBottom: 10\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        color: '#000',\r\n        fontWeight: 'bold'\r\n    },\r\n    icon: {\r\n        width: '35%',\r\n        height: 140,\r\n    },\r\n    pageBody: {\r\n        height: 400,\r\n        width: 400,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around'\r\n    },\r\n    titleArea: {\r\n        width: 350,\r\n        height: 60,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    subtitle: {\r\n        fontSize: 20,\r\n        color: '#000',\r\n        fontWeight: 'bold'\r\n    },\r\n    inputArea: {\r\n        width: 350,\r\n        height: 50,\r\n        backgroundColor: '#F5F5F5',\r\n        flexDirection: 'row',\r\n        borderRadius: 10,\r\n        paddingLeft: 15,\r\n        alignItems: 'center',\r\n        borderWidth: 2,\r\n        borderColor: '#000000'\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        fontSize: 16,\r\n        color: '#000000',\r\n        marginLeft: 5\r\n    },\r\n    wrongPassword: {\r\n        width: 350,\r\n        height: 40,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    loginButton: {\r\n        height: 50,\r\n        width: 350,\r\n        backgroundColor: '#17F1A1',\r\n        borderRadius: 10,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    loginText: {\r\n        fontSize: 18,\r\n        color: '#000000',\r\n        fontWeight: 'bold'\r\n    },\r\n    registerButton: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'center'\r\n    },\r\n    registerText: {\r\n        fontSize: 16,\r\n        color: '#000000'\r\n    },\r\n    registerTextBold: {\r\n        fontSize: 16,\r\n        color: '#000000',\r\n        fontWeight: 'bold',\r\n        marginLeft: 5\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}