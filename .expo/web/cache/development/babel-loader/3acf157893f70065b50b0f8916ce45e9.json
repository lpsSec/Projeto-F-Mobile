{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lucas\\\\Documents\\\\Programacao\\\\React-Native\\\\Project-E-MyBook\\\\src\\\\pages\\\\LocateBookTwo.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Api from \"../Api\";\nimport Back from \"../assets/back.svg\";\nimport FavoriteClean from \"../assets/favorito-vazio.svg\";\nimport Favorite from \"../assets/favorito.svg\";\nimport LocateModal from \"../components/LocateModal\";\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nexport default function LocateBookTwo() {\n  var navigation = useNavigation();\n  var route = useRoute();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      locateModal = _useState2[0],\n      setLocateModal = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      verify = _useState4[0],\n      setVerify = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      indie = _useState6[0],\n      setIndie = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState('none'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addFavorite = _useState10[0],\n      setAddFavorite = _useState10[1];\n\n  var _useState11 = useState('none'),\n      _useState12 = _slicedToArray(_useState11, 2),\n      removeFavorite = _useState12[0],\n      setRemoveFavorite = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      disabledBack = _useState14[0],\n      setDisabledBack = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      disabledLocate = _useState16[0],\n      setDisabledLocate = _useState16[1];\n\n  var _useState17 = useState({\n    BOOK_ID: route.params.BOOK_ID,\n    BOOK_NAME: route.params.BOOK_NAME,\n    BOOK_DESC: route.params.BOOK_DESC,\n    BOOK_STATUS: route.params.BOOK_STATUS,\n    BOOK_AUTHOR: route.params.BOOK_AUTHOR,\n    BOOK_GEN: route.params.BOOK_GEN,\n    IMG_PATH: route.params.IMG_PATH\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bookInfo = _useState18[0],\n      setBookInfo = _useState18[1];\n\n  var setMessage = function setMessage() {\n    setLoading(false);\n    setAddFavorite('none');\n    setRemoveFavorite('none');\n    setDisabledBack(false);\n    setDisabledLocate(false);\n  };\n\n  var setFavorite = function setFavorite() {\n    var json, _json;\n\n    return _regeneratorRuntime.async(function setFavorite$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n\n            if (!verify) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Api.addFavorite(bookInfo.BOOK_ID));\n\n          case 4:\n            json = _context.sent;\n\n            if (!json.error) {\n              setVerify(false);\n              setAddFavorite('flex');\n              setRemoveFavorite('none');\n              setDisabledBack(true);\n              setDisabledLocate(true);\n            }\n\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(Api.removeFavorite(bookInfo.BOOK_ID));\n\n          case 10:\n            _json = _context.sent;\n\n            if (!_json.error) {\n              setVerify(true);\n              setRemoveFavorite('flex');\n              setAddFavorite('none');\n              setDisabledBack(true);\n              setDisabledLocate(true);\n            }\n\n          case 12:\n            wait(3000).then(setMessage);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var isFlag = true;\n    Api.verifyFavorite(bookInfo.BOOK_ID).then(function (response) {\n      if (isFlag) {\n        if (response.data != 0) {\n          setVerify(false);\n        } else {\n          setVerify(true);\n        }\n      }\n    }).catch(function (error) {\n      alert('Erro inesperado, contate o adminstrador');\n    });\n    return function () {\n      isFlag = false;\n    };\n  }, []);\n  return React.createElement(View, {\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, React.createElement(ImageBackground, {\n    style: styles.photoArea,\n    source: {\n      uri: 'https://super.abril.com.br/wp-content/uploads/2018/04/bibliotecas.png?quality=70&strip=info&resize=680,453'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.toBack,\n    onPress: function onPress() {\n      navigation.navigate('Profile');\n    },\n    disabled: disabledBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 16\n    }\n  }, React.createElement(Back, {\n    width: \"36\",\n    height: \"36\",\n    fill: \"#FFFFFF\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: styles.pageBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.infoBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.titleBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, bookInfo.BOOK_NAME), React.createElement(View, {\n    style: styles.infoBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.typeTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Gen\\xEAro:\"), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, bookInfo.BOOK_GEN)), React.createElement(View, {\n    style: styles.infoBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.typeTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"Autor:\"), React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, bookInfo.BOOK_AUTHOR)), React.createElement(View, {\n    style: styles.infoBodyForDesc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.typeTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Descri\\xE7\\xE3o:\"), React.createElement(Text, {\n    style: styles.titleDesc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, bookInfo.BOOK_DESC))), React.createElement(View, {\n    style: styles.warningFavorite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      display: addFavorite,\n      color: '#FF0000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"Livro adicionado aos favoritos!\"), React.createElement(Text, {\n    style: {\n      display: removeFavorite,\n      color: '#FF0000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, \"Livro removido dos favoritos!\")), React.createElement(View, {\n    style: styles.locateBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, verify ? React.createElement(TouchableOpacity, {\n    style: styles.favoriteButton,\n    onPress: setFavorite,\n    disabled: disabledLocate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, React.createElement(FavoriteClean, {\n    width: \"36\",\n    height: \"36\",\n    fill: \"#000000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  })) : React.createElement(TouchableOpacity, {\n    style: styles.favoriteButton,\n    onPress: setFavorite,\n    disabled: disabledLocate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, React.createElement(Favorite, {\n    width: \"36\",\n    height: \"36\",\n    fill: \"#000000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  })), indie ? React.createElement(TouchableOpacity, {\n    style: styles.locateButton,\n    onPress: function onPress() {\n      setLocateModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textLocate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, \"Locar\")) : React.createElement(TouchableOpacity, {\n    style: styles.locateButton,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.textLocate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 29\n    }\n  }, \"Indispon\\xEDvel\")))), React.createElement(LocateModal, {\n    show: locateModal,\n    setShow: setLocateModal,\n    value: bookInfo.BOOK_ID,\n    but: setIndie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  background: {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: '#FFFFFF'\n  },\n  photoArea: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    minWidth: 415,\n    paddingTop: 35,\n    paddingLeft: 5,\n    minHeight: 250\n  },\n  toBack: {\n    width: 36,\n    height: 36,\n    alignItems: 'center'\n  },\n  pageBody: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    backgroundColor: '#FFFFFF'\n  },\n  infoBook: {\n    width: 400,\n    height: 400,\n    marginTop: 10,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    backgroundColor: '#FFFFFF'\n  },\n  infoBody: {\n    width: 350,\n    height: 50,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  infoBodyForDesc: {\n    width: 350,\n    height: 200,\n    marginTop: 15,\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start'\n  },\n  warningFavorite: {\n    width: 350,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  titleDesc: {\n    marginTop: 10,\n    fontSize: 17\n  },\n  titleBook: {\n    fontWeight: 'bold',\n    fontSize: 24\n  },\n  typeTitle: {\n    fontWeight: 'bold',\n    fontSize: 20\n  },\n  title: {\n    marginLeft: 10,\n    fontSize: 17\n  },\n  locateBook: {\n    width: 380,\n    height: 80,\n    marginBottom: 20,\n    alignItems: 'flex-end',\n    justifyContent: 'space-around',\n    flexDirection: 'row',\n    backgroundColor: '#FFFFFF'\n  },\n  favoriteButton: {\n    width: 36,\n    height: 36,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 5\n  },\n  locateButton: {\n    width: 300,\n    height: 50,\n    backgroundColor: '#17F1A1',\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  textLocate: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#000000'\n  }\n});","map":{"version":3,"sources":["C:/Users/lucas/Documents/Programacao/React-Native/Project-E-MyBook/src/pages/LocateBookTwo.js"],"names":["React","useState","useEffect","useNavigation","useRoute","Api","Back","FavoriteClean","Favorite","LocateModal","wait","timeout","Promise","resolve","setTimeout","LocateBookTwo","navigation","route","locateModal","setLocateModal","verify","setVerify","indie","setIndie","loading","setLoading","addFavorite","setAddFavorite","removeFavorite","setRemoveFavorite","disabledBack","setDisabledBack","disabledLocate","setDisabledLocate","BOOK_ID","params","BOOK_NAME","BOOK_DESC","BOOK_STATUS","BOOK_AUTHOR","BOOK_GEN","IMG_PATH","bookInfo","setBookInfo","setMessage","setFavorite","json","error","then","isFlag","verifyFavorite","response","data","catch","alert","styles","background","photoArea","uri","toBack","navigate","pageBody","infoBook","titleBook","infoBody","typeTitle","title","infoBodyForDesc","titleDesc","warningFavorite","display","color","locateBook","favoriteButton","locateButton","textLocate","StyleSheet","create","flex","alignItems","backgroundColor","flexDirection","minWidth","paddingTop","paddingLeft","minHeight","width","height","justifyContent","marginTop","fontSize","fontWeight","marginLeft","marginBottom","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigation, useRoute } from '@react-navigation/native';\r\nimport { View, Text, TouchableOpacity, ImageBackground, StyleSheet } from 'react-native';\r\nimport Api from '../Api';\r\n\r\nimport Back from '../assets/back.svg';\r\nimport FavoriteClean from '../assets/favorito-vazio.svg';\r\nimport Favorite from '../assets/favorito.svg';\r\nimport LocateModal from '../components/LocateModal';\r\n\r\nconst wait = (timeout) => {\r\n    return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\n\r\nexport default function LocateBookTwo() {\r\n    const navigation = useNavigation();\r\n    const route = useRoute();\r\n\r\n    const [locateModal, setLocateModal] = useState(false);\r\n    const [verify, setVerify] = useState(true);\r\n    const [indie, setIndie] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    const [addFavorite, setAddFavorite] = useState('none');\r\n    const [removeFavorite, setRemoveFavorite] = useState('none');\r\n    const [disabledBack, setDisabledBack] = useState(false);\r\n    const [disabledLocate, setDisabledLocate] = useState(false);\r\n\r\n    const [bookInfo, setBookInfo] = useState({\r\n        BOOK_ID: route.params.BOOK_ID,\r\n        BOOK_NAME: route.params.BOOK_NAME,\r\n        BOOK_DESC: route.params.BOOK_DESC,\r\n        BOOK_STATUS: route.params.BOOK_STATUS,\r\n        BOOK_AUTHOR: route.params.BOOK_AUTHOR,\r\n        BOOK_GEN: route.params.BOOK_GEN,\r\n        IMG_PATH: route.params.IMG_PATH\r\n    });\r\n\r\n    const setMessage = () => {\r\n        setLoading(false);\r\n        setAddFavorite('none');\r\n        setRemoveFavorite('none');\r\n        setDisabledBack(false);\r\n        setDisabledLocate(false);\r\n    };\r\n\r\n    const setFavorite = async () => {\r\n        setLoading(true);\r\n        if(verify) {\r\n            let json = await Api.addFavorite(bookInfo.BOOK_ID);\r\n            if(!json.error) {\r\n                setVerify(false);\r\n                setAddFavorite('flex');\r\n                setRemoveFavorite('none');\r\n                setDisabledBack(true);\r\n                setDisabledLocate(true);\r\n            }\r\n        } else {\r\n            let json = await Api.removeFavorite(bookInfo.BOOK_ID);\r\n            if(!json.error) {\r\n                setVerify(true);\r\n                setRemoveFavorite('flex');\r\n                setAddFavorite('none');\r\n                setDisabledBack(true);\r\n                setDisabledLocate(true);\r\n            }\r\n        }\r\n        wait(3000).then(setMessage);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let isFlag = true;\r\n        Api.verifyFavorite(bookInfo.BOOK_ID).then((response) => {\r\n            if(isFlag){\r\n                if(response.data != 0 ) {\r\n                    setVerify(false);\r\n                } else {\r\n                    setVerify(true);\r\n                }\r\n            }\r\n        }).catch((error) => {\r\n            alert('Erro inesperado, contate o adminstrador');\r\n        });\r\n        return () => { isFlag = false };\r\n    }, []);\r\n\r\n    return (\r\n        <View style={styles.background}>\r\n            <ImageBackground \r\n            style={styles.photoArea} \r\n            source={{ uri: 'https://super.abril.com.br/wp-content/uploads/2018/04/bibliotecas.png?quality=70&strip=info&resize=680,453' }}\r\n            >\r\n               <TouchableOpacity style={styles.toBack} onPress={()=>{ navigation.navigate('Profile') }} disabled={disabledBack}>\r\n                    <Back width=\"36\" height=\"36\" fill=\"#FFFFFF\"/>\r\n                </TouchableOpacity>\r\n            </ImageBackground>\r\n            <View style={styles.pageBody}>\r\n                <View style={styles.infoBook}>\r\n                    <Text style={styles.titleBook}>{bookInfo.BOOK_NAME}</Text>\r\n                    <View style={styles.infoBody}>\r\n                        <Text style={styles.typeTitle}>Genêro:</Text>\r\n                        <Text style={styles.title}>{bookInfo.BOOK_GEN}</Text>\r\n                    </View>\r\n                    <View style={styles.infoBody}>\r\n                        <Text style={styles.typeTitle}>Autor:</Text>\r\n                        <Text style={styles.title}>{bookInfo.BOOK_AUTHOR}</Text>\r\n                    </View>\r\n                    <View style={styles.infoBodyForDesc}>\r\n                        <Text style={styles.typeTitle}>Descrição:</Text>\r\n                        <Text style={styles.titleDesc}>{bookInfo.BOOK_DESC}</Text>\r\n                    </View>\r\n                </View>\r\n                <View style={styles.warningFavorite}>\r\n                    <Text style={{display: addFavorite, color: '#FF0000'}}>\r\n                    Livro adicionado aos favoritos!\r\n                    </Text>\r\n                    <Text style={{display: removeFavorite, color: '#FF0000', }}>\r\n                    Livro removido dos favoritos!\r\n                    </Text>\r\n                </View>\r\n                <View style={styles.locateBook}>\r\n                    {verify ?\r\n                        <TouchableOpacity style={styles.favoriteButton} onPress={setFavorite} disabled={disabledLocate}>\r\n                            <FavoriteClean width=\"36\" height=\"36\" fill=\"#000000\"/>\r\n                        </TouchableOpacity>\r\n                        :\r\n                        <TouchableOpacity style={styles.favoriteButton} onPress={setFavorite} disabled={disabledLocate}>\r\n                            <Favorite width=\"36\" height=\"36\" fill=\"#000000\"/>\r\n                        </TouchableOpacity>\r\n                    }\r\n                    {indie ?\r\n                        <TouchableOpacity style={styles.locateButton} onPress={() => { setLocateModal(true) }}>\r\n                            <Text style={styles.textLocate}>Locar</Text>\r\n                        </TouchableOpacity>\r\n                        :\r\n                        <TouchableOpacity style={styles.locateButton} disabled={true}>\r\n                            <Text style={styles.textLocate}>Indisponível</Text>\r\n                        </TouchableOpacity>\r\n                    }              \r\n                </View>\r\n            </View>\r\n            <LocateModal \r\n                show={locateModal}\r\n                setShow={setLocateModal}\r\n                value={bookInfo.BOOK_ID}\r\n                but={setIndie}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    background: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        backgroundColor: '#FFFFFF'\r\n    },\r\n    photoArea: {\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-start',\r\n        minWidth: 415,\r\n        paddingTop: 35,\r\n        paddingLeft: 5,\r\n        minHeight: 250\r\n    },\r\n    toBack: {\r\n        width: 36,\r\n        height: 36,\r\n        alignItems: 'center'\r\n    },\r\n    pageBody: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n        backgroundColor: '#FFFFFF'\r\n    },\r\n    infoBook: {\r\n        width: 400,\r\n        height: 400,\r\n        marginTop: 10,\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-start',\r\n        backgroundColor: '#FFFFFF'\r\n    },\r\n    infoBody: {\r\n        width: 350,\r\n        height: 50,\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'center',\r\n        flexDirection: 'row'\r\n    },\r\n    infoBodyForDesc: {\r\n        width: 350,\r\n        height: 200,\r\n        marginTop: 15,\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'flex-start'\r\n    },\r\n    warningFavorite: {\r\n        width: 350,\r\n        height: 40,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    titleDesc: {\r\n        marginTop: 10,\r\n        fontSize: 17\r\n    },\r\n    titleBook: {\r\n        fontWeight: 'bold',\r\n        fontSize: 24\r\n    },\r\n    typeTitle: {\r\n        fontWeight: 'bold',\r\n        fontSize: 20\r\n    },\r\n    title: {\r\n        marginLeft: 10,\r\n        fontSize: 17\r\n    },\r\n    locateBook: {\r\n        width: 380,\r\n        height: 80,\r\n        marginBottom: 20,\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'space-around',\r\n        flexDirection: 'row',\r\n        backgroundColor: '#FFFFFF'\r\n    },\r\n    favoriteButton: {\r\n        width: 36,\r\n        height: 36,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginBottom: 5\r\n    },\r\n    locateButton: {\r\n        width: 300,\r\n        height: 50,\r\n        backgroundColor: '#17F1A1',\r\n        borderRadius: 10,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    textLocate: {\r\n        fontSize: 22,\r\n        fontWeight: 'bold',\r\n        color: '#000000'\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}